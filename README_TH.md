# üöÄ IoT Device Management Platform - README

## üìã ‡∏™‡∏≤‡∏£‡∏ö‡∏±‡∏ç
- [‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°](#‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°)
- [‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏´‡∏•‡∏±‡∏Å](#‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏´‡∏•‡∏±‡∏Å)
- [‡∏™‡∏ñ‡∏≤‡∏õ‡∏±‡∏ï‡∏¢‡∏Å‡∏£‡∏£‡∏°‡∏£‡∏∞‡∏ö‡∏ö](#‡∏™‡∏ñ‡∏≤‡∏õ‡∏±‡∏ï‡∏¢‡∏Å‡∏£‡∏£‡∏°‡∏£‡∏∞‡∏ö‡∏ö)
- [‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á](#‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á)
- [‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô](#‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô)
- [‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢](#‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢)
- [Roadmap](#roadmap)
- [Troubleshooting](#troubleshooting)

---

## üéØ ‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°

**IoT Device Management Platform** ‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏û‡∏•‡∏ï‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå IoT ‡πÅ‡∏ö‡∏ö‡∏Ñ‡∏£‡∏ö‡∏ß‡∏á‡∏à‡∏£ ‡∏ó‡∏µ‡πà‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡∏°‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠:
- ‚úÖ ‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå IoT ‡πÅ‡∏ö‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏•‡πÑ‡∏ó‡∏°‡πå
- ‚úÖ ‡πÄ‡∏Å‡πá‡∏ö‡πÅ‡∏•‡∏∞‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡πÄ‡∏ã‡∏ô‡πÄ‡∏ã‡∏≠‡∏£‡πå
- ‚úÖ ‡∏ï‡∏±‡πâ‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÅ‡∏•‡∏∞‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå
- ‚úÖ ‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢‡πÇ‡∏î‡∏¢‡∏•‡∏î‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏Ç‡∏≠

### üìä ‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ

| Component | Stack |
|-----------|-------|
| **Frontend** | Next.js 14.2.33, React 19.2.0, TypeScript, Tailwind CSS |
| **Backend** | Next.js API Routes, Supabase RLS |
| **Database** | Supabase (PostgreSQL) |
| **Real-time** | MQTT (HiveMQ Cloud) |
| **Caching** | SWR (Stale-While-Revalidate) |
| **Maps** | Leaflet 1.9.4, react-leaflet |
| **Charts** | ApexCharts |

---

## ‚ú® ‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏´‡∏•‡∏±‡∏Å

### 1. üìä Dashboard
- **‡∏™‡∏£‡∏∏‡∏õ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•**: ‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î, ‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå, ‡∏≠‡∏≠‡∏ü‡πÑ‡∏•‡∏ô‡πå, ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ
- **‡∏Å‡∏£‡∏≤‡∏ü‡πÅ‡∏ö‡∏ö Real-time**: ‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ì‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• 24 ‡∏ä‡∏°, ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå 7 ‡∏ß‡∏±‡∏ô, ‡∏™‡∏±‡∏î‡∏™‡πà‡∏ß‡∏ô‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞
- **‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î**: 5 ‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î
- **‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡∏£‡∏∞‡∏ö‡∏ö**: CPU, RAM, Disk, ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£
- **‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ì‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• MQTT**: ‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πà‡∏≠‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ

### 2. üó∫Ô∏è Maps
- **‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå**: ‡πÅ‡∏™‡∏î‡∏á‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏ö‡∏ô‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏ö‡∏ö Interactive
- **Cluster**: ‡∏à‡∏±‡∏î‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏Å‡∏•‡πâ‡∏Å‡∏±‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏±‡∏î
- **‡∏ú‡πà‡∏≤‡∏ô‡∏Å‡∏£‡∏≠‡∏á**: ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤, ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ï‡∏±‡∏ß‡∏Å‡∏£‡∏≠‡∏á, ‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏•‡∏≥‡∏î‡∏±‡∏ö
- **Quick Actions**: ‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏à‡∏≤‡∏Å‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà

### 3. üîß ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå
- **‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå**: ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î, ‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå, ‡∏≠‡∏≠‡∏ü‡πÑ‡∏•‡∏ô‡πå
- **‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡πÉ‡∏´‡∏°‡πà**: ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏û‡∏£‡πâ‡∏≠‡∏° MQTT config
- **‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á**: ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ö‡∏ô‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡∏´‡∏£‡∏∑‡∏≠ input ‡∏î‡πâ‡∏ß‡∏¢‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á
- **‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå**: ‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á ON/OFF
- **‡∏•‡∏ö‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå**: ‡∏•‡∏ö‡∏ñ‡∏≤‡∏ß‡∏£
- **Toast Notifications**: ‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à/‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î

### 4. üì± ‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏•‡∏∞ Server
- **‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏£‡∏∞‡∏ö‡∏ö**: ‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå/‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô/‡∏ß‡∏¥‡∏Å‡∏§‡∏ï‡∏¥
- **Server Monitoring**: Uptime, Response Time, Storage Usage
- **Health Check**: Database, MQTT, API
- **Toggle Auto-Refresh**: ‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î‡∏Å‡∏≤‡∏£‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥

### 5. ‚öôÔ∏è ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤
- **‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ**: ‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏ß‡πá‡∏ö, ‡∏≠‡∏µ‡πÄ‡∏°‡∏•, ‡∏Ç‡∏µ‡∏î‡∏à‡∏≥‡∏Å‡∏±‡∏î
- **API Keys**: ‡∏™‡∏£‡πâ‡∏≤‡∏á/‡∏î‡∏π/‡∏ã‡πà‡∏≠‡∏ô API Key
- **‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£ Control**: ‡∏´‡∏¢‡∏∏‡∏î/‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢
- **‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏∞‡∏ö‡∏ö**: ‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô, ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå

### 6. üîî ‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô
- **‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÄ‡∏ä‡∏¥‡∏á‡∏£‡∏∏‡∏Å**: ‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏Å‡∏≤‡∏£‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á
- **‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥**: ‡πÄ‡∏Å‡πá‡∏ö log ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
- **‡∏£‡∏∞‡∏ö‡∏ö‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô**: ‡∏ß‡∏¥‡∏Å‡∏§‡∏ï‡∏¥/‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô/‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•

---

## üèóÔ∏è ‡∏™‡∏ñ‡∏≤‡∏õ‡∏±‡∏ï‡∏¢‡∏Å‡∏£‡∏£‡∏°‡∏£‡∏∞‡∏ö‡∏ö

### Flow Diagram

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    Browser (Client)                      ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îÇ
‚îÇ  ‚îÇ  Dashboard ‚îÇ  ‚îÇ    Map     ‚îÇ  ‚îÇ   Devices   ‚îÇ      ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                   ‚îÇ
            ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
            ‚îÇ   SWR Cache     ‚îÇ
            ‚îÇ  (Memory)       ‚îÇ
            ‚îÇ ‚Ä¢ 2min Dedup    ‚îÇ
            ‚îÇ ‚Ä¢ 5-10min Refresh
            ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                     ‚îÇ
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ   Service Control       ‚îÇ
        ‚îÇ (localStorage)          ‚îÇ
        ‚îÇ ‚Ä¢ Enable/Disable        ‚îÇ
        ‚îÇ ‚Ä¢ Cost Saver            ‚îÇ
        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                     ‚îÇ
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚ñº                ‚ñº                ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Supabase   ‚îÇ ‚îÇ HiveMQ   ‚îÇ ‚îÇ Next.js API  ‚îÇ
‚îÇ (Database) ‚îÇ ‚îÇ (MQTT)   ‚îÇ ‚îÇ (Backend)    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Data Flow

```
Device ‚Üí MQTT ‚Üí HiveMQ Cloud ‚Üí Next.js API ‚Üí Supabase ‚Üí Browser
  üì±        üì°        ‚òÅÔ∏è           üîß         üìä         üíª

* Cache ‡∏´‡∏¢‡∏∏‡∏î = ‡πÑ‡∏°‡πà‡∏°‡∏µ request ‡πÑ‡∏õ‡∏ó‡∏≤‡∏á HiveMQ/Supabase
* ‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢ 85%
```

---

## üöÄ ‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á

### Prerequisites
- Node.js 18+ ‡πÅ‡∏•‡∏∞ npm/pnpm
- Supabase Account
- HiveMQ Cloud Account

### Steps

```bash
# 1. Clone repository
git clone https://github.com/13EC4USE/iot.git
cd iot

# 2. Install dependencies
pnpm install

# 3. Configure environment variables
cp .env.example .env.local
# ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç .env.local ‡∏î‡πâ‡∏ß‡∏¢ credentials:
# NEXT_PUBLIC_SUPABASE_URL=
# NEXT_PUBLIC_SUPABASE_ANON_KEY=
# NEXT_PUBLIC_MQTT_HOST=
# NEXT_PUBLIC_MQTT_PORT=

# 4. Start development server
pnpm dev

# 5. Open browser
# http://localhost:3000
```

---

## üìñ ‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

### 1. ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö
```
‡∏´‡∏ô‡πâ‡∏≤: /admin/login
‡∏ó‡∏î‡∏™‡∏≠‡∏ö: admin@iot.com / password123
```

### 2. Dashboard
```
Path: /admin/dashboard
‚Ä¢ ‡∏î‡∏π‡∏™‡∏£‡∏∏‡∏õ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå
‚Ä¢ ‡∏î‡∏π‡∏Å‡∏£‡∏≤‡∏ü‡πÅ‡∏ö‡∏ö Real-time
‚Ä¢ ‡∏î‡∏π‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏£‡∏∞‡∏ö‡∏ö
‚Ä¢ Refresh manual ‡∏î‡πâ‡∏ß‡∏¢‡∏õ‡∏∏‡πà‡∏°‡πÉ‡∏ï‡πâ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠
```

### 3. Maps
```
Path: /admin/map
‚Ä¢ ‡∏î‡∏π‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå
‚Ä¢ ‡∏Ñ‡∏•‡∏¥‡∏Å Marker ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î
‚Ä¢ ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå
‚Ä¢ ‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏à‡∏≤‡∏Å‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà
```

### 4. Devices
```
Path: /admin/devices
‚Ä¢ ‡∏î‡∏π list ‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
‚Ä¢ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡πÉ‡∏´‡∏°‡πà
‚Ä¢ ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå
‚Ä¢ ‡∏ï‡∏±‡πâ‡∏á‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏ö‡∏ô‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà
‚Ä¢ ‡∏•‡∏ö‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå
```

### 5. Monitoring
```
Path: /admin/monitoring
‚Ä¢ ‡∏î‡∏π‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏£‡∏∞‡∏ö‡∏ö (Healthy/Warning/Critical)
‚Ä¢ ‡∏î‡∏π Server Uptime
‚Ä¢ ‡∏î‡∏π Storage Usage
‚Ä¢ Toggle Auto-Refresh (‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î)
```

### 6. Settings
```
Path: /admin/settings
‚Ä¢ ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ
‚Ä¢ ‡∏™‡∏£‡πâ‡∏≤‡∏á/‡∏î‡∏π API Keys
‚Ä¢ ‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£ (Enable/Disable)
‚Ä¢ ‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏∞‡∏ö‡∏ö
```

---

## üí∞ ‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤
- HiveMQ Cloud ‡πÅ‡∏•‡∏∞ Supabase ‡∏Ñ‡∏¥‡∏î‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢‡∏ï‡∏≤‡∏°‡∏à‡∏≥‡∏ô‡∏ß‡∏ô request
- Dashboard ‡∏´‡∏£‡∏∑‡∏≠ App ‡∏ï‡πà‡∏≤‡∏á‡πÜ ‡∏™‡πà‡∏á request ‡∏ï‡∏•‡∏≠‡∏î‡πÄ‡∏ß‡∏•‡∏≤
- ‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏∂‡πâ‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏£‡∏ß‡∏î‡πÄ‡∏£‡πá‡∏ß

### ‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç

#### 1Ô∏è‚É£ ‡∏•‡∏î‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á Request
| Page | Before | After | Saving |
|------|--------|-------|--------|
| Dashboard | 60s | 10 min | **83%** |
| Devices List | 30s | 5 min | **83%** |
| Settings | 2 min | 10 min | **80%** |
| Monitoring | 60s | 5 min | **92%** |

#### 2Ô∏è‚É£ ‡∏õ‡∏¥‡∏î‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ
```
Settings ‚Üí "‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô" ‚Üí "‡∏´‡∏¢‡∏∏‡∏î‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£"
‚Üì
‚úÖ No requests ‡πÑ‡∏õ‡∏¢‡∏±‡∏á HiveMQ/Supabase
‚úÖ ‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢ = 0
‚úÖ Data ‡∏¢‡∏±‡∏á‡πÅ‡∏™‡∏î‡∏á (cache)
```

#### 3Ô∏è‚É£ Deduplication
```typescript
dedupingInterval: 120000  // 2 ‡∏ô‡∏≤‡∏ó‡∏µ
‚Üì
// Request ‡πÉ‡∏ô 2 ‡∏ô‡∏≤‡∏ó‡∏µ = ‡πÉ‡∏ä‡πâ cache ‡πÄ‡∏î‡∏¥‡∏°
// No duplicate requests!
```

#### 4Ô∏è‚É£ Manual Refresh
```
‚Ä¢ ‡∏õ‡∏¥‡∏î auto-refresh ‡πÇ‡∏î‡∏¢‡∏Ñ‡πà‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô
‚Ä¢ ‡∏Ñ‡∏•‡∏¥‡∏Å "‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä" ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£
‚Ä¢ ‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î request 95%+
```

### ‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏Å‡∏≤‡∏£‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢

**‡∏Å‡πà‡∏≠‡∏ô‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á (‡∏õ‡∏Å‡∏ï‡∏¥)**
```
‚Ä¢ Dashboard: 60 requests/hour
‚Ä¢ Devices: 120 requests/hour
‚Ä¢ Monitoring: 60 requests/hour
‚Ä¢ Other: 50 requests/hour
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
Total: 290 requests/hour
Cost: ~$0.5-1.0/hour (‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì)
```

**‡∏´‡∏•‡∏±‡∏á‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á (‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô)**
```
‚Ä¢ Dashboard: 6 requests/hour ‚úÖ
‚Ä¢ Devices: 12 requests/hour ‚úÖ
‚Ä¢ Monitoring: 0 requests/hour ‚úÖ
‚Ä¢ Other: 5 requests/hour ‚úÖ
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
Total: 23 requests/hour
Cost: ~$0.05-0.1/hour (‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì)
```

**‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î: 85-92%** üéâ

---

## üó∫Ô∏è Roadmap

### ‚úÖ Completed Features
- [x] Dashboard with real-time charts
- [x] Device management (CRUD)
- [x] Map with interactive markers
- [x] MQTT integration with HiveMQ
- [x] User authentication (Supabase Auth)
- [x] Alert system
- [x] Toast notifications
- [x] Theme support (Dark/Light)
- [x] Location picker (Leaflet)
- [x] Cost optimization (reduced requests 85%)
- [x] Service control (Enable/Disable)
- [x] Performance monitoring
- [x] System health checks

### üìã In Development / Planned

#### Phase 1: Enhancement (Next 2 weeks)
- [ ] **Advanced Filtering**
  - Multiple filter criteria
  - Save filter presets
  - Export filtered data

- [ ] **Data Visualization**
  - More chart types (Line, Scatter, Heatmap)
  - Custom time ranges
  - Data export (CSV, PDF)

- [ ] **Mobile Responsive**
  - Optimize for mobile UI
  - Touch gestures for maps
  - Mobile-friendly dialogs

#### Phase 2: Analytics (Weeks 3-4)
- [ ] **Historical Analytics**
  - Trend analysis
  - Anomaly detection
  - Predictive insights

- [ ] **Reporting**
  - Scheduled reports
  - Custom dashboards
  - Email delivery

- [ ] **Data Retention**
  - Archive old data
  - Compression
  - Backup strategies

#### Phase 3: Advanced Features (Month 2)
- [ ] **Rules Engine**
  - Automation rules (IF condition THEN action)
  - Scheduled tasks
  - Webhook integration

- [ ] **Multi-tenancy**
  - Organization support
  - Role-based access control (RBAC)
  - Team collaboration

- [ ] **API Expansion**
  - REST API v2
  - GraphQL support
  - WebSocket real-time

#### Phase 4: Enterprise (Month 3)
- [ ] **Enterprise Features**
  - SSO/SAML
  - Audit logging
  - Advanced security
  - On-premise deployment

- [ ] **Scalability**
  - Database optimization
  - Load balancing
  - Caching strategies

- [ ] **Integration**
  - Third-party integrations
  - Webhook system
  - Custom plugins

### üêõ Known Issues
- [ ] Map marker clustering needs optimization for 1000+ devices
- [ ] Chart performance with 10000+ data points
- [ ] MQTT connection timeout after 30 minutes idle

### üìù Technical Debt
- [ ] Add comprehensive unit tests
- [ ] Improve error handling
- [ ] Add proper logging system
- [ ] Refactor component structure
- [ ] Update documentation
- [ ] Security audit

---

## üõ†Ô∏è Troubleshooting

### Dashboard ‡πÑ‡∏°‡πà‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
```
‚úÖ ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö:
1. Service Status = "‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô" ‚úì
2. Internet connection ‚úì
3. Supabase status ‚úì
4. Click "‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä" button ‚úì

‚ùå ‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ:
‚Ä¢ Clear cache: localStorage.clear()
‚Ä¢ Refresh page: Ctrl+Shift+R
‚Ä¢ Check console errors: F12 > Console
```

### Map ‡πÑ‡∏°‡πà‡πÅ‡∏™‡∏î‡∏á Marker
```
‚úÖ ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö:
1. Device ‡∏°‡∏µ location ‚úì
2. Latitude/Longitude ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á ‚úì
3. Zoom level ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏° (5-20) ‚úì

‚ùå ‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ:
‚Ä¢ ‡πÄ‡∏õ‡∏¥‡∏î DevTools (F12)
‚Ä¢ ‡∏î‡∏π Network tab
‚Ä¢ ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Leaflet script ‡πÇ‡∏´‡∏•‡∏î
```

### Service ‡πÑ‡∏°‡πà‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î‡πÑ‡∏î‡πâ
```
‚úÖ ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö:
1. localStorage enabled ‚úì
2. No browser restrictions ‚úì

‚ùå ‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ:
‚Ä¢ F12 > Application > localStorage
‚Ä¢ ‡∏î‡∏π "iot_service_active" key
‚Ä¢ ‡∏•‡∏ö‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏Ñ‡πà‡∏≤
```

### HiveMQ ‡πÑ‡∏°‡πà‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠
```
‚úÖ ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö:
1. HiveMQ credentials ‚úì
2. Broker URL ‡∏ñ‡∏π‡∏Å ‚úì
3. Port number ‡∏ñ‡∏π‡∏Å ‚úì
4. Network firewall ‚úì

‚ùå ‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ:
‚Ä¢ Check browser console
‚Ä¢ Verify HiveMQ Cloud status
‚Ä¢ Test MQTT connection
```

### Performance ‡∏ä‡πâ‡∏≤
```
‚úÖ ‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:
1. ‡∏õ‡∏¥‡∏î auto-refresh
2. ‡∏•‡∏î data retention period
3. ‡∏õ‡∏¥‡∏î service ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ
4. Clear cache ‡πÅ‡∏•‡∏∞ restart

‚ùå ‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ:
‚Ä¢ Check network speed
‚Ä¢ Monitor CPU/Memory usage
‚Ä¢ Profile with DevTools
```

---

## üìû Support

- **Documentation**: ‡∏î‡∏π docs/ folder
- **Issues**: Report on GitHub
- **Questions**: Check README FAQ section

---

## üìÑ License

MIT License - See LICENSE file

---

## üë®‚Äçüíª Development Team

- **Owner**: 13EC4USE
- **Repository**: github.com/13EC4USE/iot

---

**Last Updated**: December 7, 2025
**Version**: 1.0.0

{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/io-t-webpage%20%282%29/lib/supabase/client.ts"],"sourcesContent":["import { createBrowserClient } from \"@supabase/ssr\"\n\nexport function createClient() {\n  return createBrowserClient(process.env.NEXT_PUBLIC_SUPABASE_URL!, process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!)\n}\n"],"names":[],"mappings":";;;;AAAA;AAAA;;AAEO,SAAS;IACd,OAAO,IAAA,iMAAmB;AAC5B"}},
    {"offset": {"line": 18, "column": 0}, "map": {"version":3,"sources":["file:///D:/io-t-webpage%20%282%29/components/admin/sidebar.tsx"],"sourcesContent":["\"use client\"\n\nimport { usePathname, useRouter } from \"next/navigation\"\nimport { LayoutDashboard, Wifi, Settings, LogOut } from \"lucide-react\"\n\nexport function Sidebar() {\n  const pathname = usePathname()\n  const router = useRouter()\n\n  const menuItems = [\n    { href: \"/admin/dashboard\", label: \"แดชบอร์ด\", icon: LayoutDashboard },\n    { href: \"/admin/devices\", label: \"จัดการอุปกรณ์\", icon: Wifi },\n    { href: \"/admin/settings\", label: \"ตั้งค่า\", icon: Settings },\n  ]\n\n  const handleLogout = () => {\n    localStorage.removeItem(\"adminToken\")\n    router.push(\"/admin/login\")\n  }\n\n  return (\n    <div className=\"w-64 bg-card border-r border-border p-6 flex flex-col\">\n      <div className=\"mb-8\">\n        <h2 className=\"text-2xl font-bold text-foreground\">IoT Hub</h2>\n        <p className=\"text-xs text-foreground/60 mt-1\">ระบบจัดการอุปกรณ์</p>\n      </div>\n\n      <nav className=\"flex-1 space-y-2\">\n        {menuItems.map((item) => {\n          const isActive = pathname.startsWith(item.href)\n          return (\n            <a\n              key={item.href}\n              href={item.href}\n              className={`flex items-center gap-3 px-4 py-3 rounded-lg transition ${\n                isActive\n                  ? \"bg-accent/20 text-accent\"\n                  : \"text-foreground/60 hover:bg-background/50 hover:text-foreground\"\n              }`}\n            >\n              <item.icon className=\"w-5 h-5\" />\n              <span>{item.label}</span>\n            </a>\n          )\n        })}\n      </nav>\n\n      <button\n        onClick={handleLogout}\n        className=\"flex items-center gap-3 px-4 py-3 w-full rounded-lg text-foreground/60 hover:bg-destructive/20 hover:text-destructive transition\"\n      >\n        <LogOut className=\"w-5 h-5\" />\n        <span>ออกจากระบบ</span>\n      </button>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AAAA;AAHA;;;;AAKO,SAAS;IACd,MAAM,WAAW,IAAA,iJAAW;IAC5B,MAAM,SAAS,IAAA,+IAAS;IAExB,MAAM,YAAY;QAChB;YAAE,MAAM;YAAoB,OAAO;YAAY,MAAM,+OAAe;QAAC;QACrE;YAAE,MAAM;YAAkB,OAAO;YAAiB,MAAM,0MAAI;QAAC;QAC7D;YAAE,MAAM;YAAmB,OAAO;YAAW,MAAM,sNAAQ;QAAC;KAC7D;IAED,MAAM,eAAe;QACnB,aAAa,UAAU,CAAC;QACxB,OAAO,IAAI,CAAC;IACd;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAAqC;;;;;;kCACnD,8OAAC;wBAAE,WAAU;kCAAkC;;;;;;;;;;;;0BAGjD,8OAAC;gBAAI,WAAU;0BACZ,UAAU,GAAG,CAAC,CAAC;oBACd,MAAM,WAAW,SAAS,UAAU,CAAC,KAAK,IAAI;oBAC9C,qBACE,8OAAC;wBAEC,MAAM,KAAK,IAAI;wBACf,WAAW,CAAC,wDAAwD,EAClE,WACI,6BACA,mEACJ;;0CAEF,8OAAC,KAAK,IAAI;gCAAC,WAAU;;;;;;0CACrB,8OAAC;0CAAM,KAAK,KAAK;;;;;;;uBATZ,KAAK,IAAI;;;;;gBAYpB;;;;;;0BAGF,8OAAC;gBACC,SAAS;gBACT,WAAU;;kCAEV,8OAAC,oNAAM;wBAAC,WAAU;;;;;;kCAClB,8OAAC;kCAAK;;;;;;;;;;;;;;;;;;AAId"}},
    {"offset": {"line": 153, "column": 0}, "map": {"version":3,"sources":["file:///D:/io-t-webpage%20%282%29/components/admin/topbar.tsx"],"sourcesContent":["\"use client\"\n\nimport { useRouter } from \"next/navigation\"\nimport { Bell, User } from \"lucide-react\"\n\nexport function TopBar() {\n  const router = useRouter()\n\n  return (\n    <div className=\"border-b border-border bg-card px-8 py-4 flex items-center justify-between\">\n      <div>\n        <h1 className=\"text-xl font-semibold text-foreground\">ยินดีต้อนรับ Admin</h1>\n      </div>\n      <div className=\"flex items-center gap-4\">\n        <Bell className=\"w-5 h-5 text-foreground/60 cursor-pointer hover:text-foreground transition\" />\n        <div className=\"w-10 h-10 rounded-full bg-accent/20 flex items-center justify-center cursor-pointer\">\n          <User className=\"w-5 h-5 text-accent\" />\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAHA;;;;AAKO,SAAS;IACd,MAAM,SAAS,IAAA,+IAAS;IAExB,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;0BACC,cAAA,8OAAC;oBAAG,WAAU;8BAAwC;;;;;;;;;;;0BAExD,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,0MAAI;wBAAC,WAAU;;;;;;kCAChB,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC,0MAAI;4BAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;AAK1B"}},
    {"offset": {"line": 225, "column": 0}, "map": {"version":3,"sources":["file:///D:/io-t-webpage%20%282%29/app/admin/layout.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\n\nimport { useEffect, useState } from \"react\"\nimport { useRouter, usePathname } from \"next/navigation\"\nimport { createClient } from \"@/lib/supabase/client\"\nimport { Sidebar } from \"@/components/admin/sidebar\"\nimport { TopBar } from \"@/components/admin/topbar\"\n\nexport default function AdminLayout({\n  children,\n}: {\n  children: React.ReactNode\n}) {\n  const router = useRouter()\n  const pathname = usePathname()\n  const [isAuthenticated, setIsAuthenticated] = useState(false)\n  const [loading, setLoading] = useState(true)\n\n  // Public admin routes that should render without authentication\n  const publicRoutes = [\n    \"/admin/login\",\n    \"/admin/sign-up\",\n    \"/admin/forgot-password\",\n  ]\n\n  useEffect(() => {\n    const checkAuth = async () => {\n      // Allow public admin routes (login, sign-up, forgot-password)\n      const publicRoutes = [\n        \"/admin/login\",\n        \"/admin/sign-up\",\n        \"/admin/forgot-password\",\n      ]\n\n      if (pathname && publicRoutes.some((r) => pathname.startsWith(r))) {\n        setLoading(false)\n        return\n      }\n      const supabase = createClient()\n\n      const {\n        data: { user },\n        error,\n      } = await supabase.auth.getUser()\n\n      if (error || !user) {\n        router.push(\"/admin/login\")\n      } else {\n        setIsAuthenticated(true)\n      }\n\n      setLoading(false)\n    }\n\n    checkAuth()\n  }, [router, pathname])\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-background flex items-center justify-center\">\n        <div className=\"text-foreground/60\">กำลังโหลด...</div>\n      </div>\n    )\n  }\n\n  if (!isAuthenticated) {\n    // If this is a public admin route, allow rendering children (login, sign-up, forgot-password)\n    if (pathname && publicRoutes.some((r) => pathname.startsWith(r))) {\n      return (\n        <div className=\"flex h-screen bg-background\">\n          <main className=\"flex-1 overflow-auto\">{children}</main>\n        </div>\n      )\n    }\n\n    return null\n  }\n\n  return (\n    <div className=\"flex h-screen bg-background\">\n      <Sidebar />\n      <div className=\"flex-1 flex flex-col overflow-hidden\">\n        <TopBar />\n        <main className=\"flex-1 overflow-auto\">{children}</main>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAIA;AACA;AACA;AACA;AACA;AARA;;;;;;;AAUe,SAAS,YAAY,EAClC,QAAQ,EAGT;IACC,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,WAAW,IAAA,iJAAW;IAC5B,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,iNAAQ,EAAC;IACvD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,gEAAgE;IAChE,MAAM,eAAe;QACnB;QACA;QACA;KACD;IAED,IAAA,kNAAS,EAAC;QACR,MAAM,YAAY;YAChB,8DAA8D;YAC9D,MAAM,eAAe;gBACnB;gBACA;gBACA;aACD;YAED,IAAI,YAAY,aAAa,IAAI,CAAC,CAAC,IAAM,SAAS,UAAU,CAAC,KAAK;gBAChE,WAAW;gBACX;YACF;YACA,MAAM,WAAW,IAAA,yIAAY;YAE7B,MAAM,EACJ,MAAM,EAAE,IAAI,EAAE,EACd,KAAK,EACN,GAAG,MAAM,SAAS,IAAI,CAAC,OAAO;YAE/B,IAAI,SAAS,CAAC,MAAM;gBAClB,OAAO,IAAI,CAAC;YACd,OAAO;gBACL,mBAAmB;YACrB;YAEA,WAAW;QACb;QAEA;IACF,GAAG;QAAC;QAAQ;KAAS;IAErB,IAAI,SAAS;QACX,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;0BAAqB;;;;;;;;;;;IAG1C;IAEA,IAAI,CAAC,iBAAiB;QACpB,8FAA8F;QAC9F,IAAI,YAAY,aAAa,IAAI,CAAC,CAAC,IAAM,SAAS,UAAU,CAAC,KAAK;YAChE,qBACE,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAK,WAAU;8BAAwB;;;;;;;;;;;QAG9C;QAEA,OAAO;IACT;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC,0IAAO;;;;;0BACR,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,wIAAM;;;;;kCACP,8OAAC;wBAAK,WAAU;kCAAwB;;;;;;;;;;;;;;;;;;AAIhD"}}]
}